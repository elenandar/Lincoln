// === CONTEXT MODIFIER v17.0.0-phase1 ===

const modifier = function (text) {
  const __SCRIPT_SLOT__ = "Context";
  const __VERSION__ = "17.0.0-phase1";

  // Check if LC is available
  if (typeof LC === "undefined" || typeof LC.lcInit !== "function") {
    console.log("[CONTEXT] LC not available (expected on first load)");
    return { text: String(text || "") };
  }

  const L = LC.lcInit();
  const contextText = String(text || "");
  
  console.log("[CONTEXT] Turn: " + L.turn + " | Context length: " + contextText.length);
  
  // Future: UnifiedAnalyzer will coordinate here in Phase 8
  
  // Passthrough: return context unchanged
  return { text: contextText };
};

return modifier(text);
